<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Servlet &amp; JSP</title>
</head>
<body>
    <h1>Servlet &amp; JSP</h1>

    <p>
        Back <a href="index.html">home</a>
    </p>

    <form action="s08/checker">
        <label>User: <input name="user"></label>
        <button>Go!</button>
    </form>

    <hr>

    <div>
        <label>User: <input id="name"></label>
        <button id="btnCheck">Go!</button>
        <p id="target"></p>
    </div>

    <script type="text/javascript">
        function callback() {
            if (this.readyState == XMLHttpRequest.DONE) {        
                let target = document.getElementById('target');
                
                if (this.status != 200) {
                    target.textContent = "[Something went wrong: " + this.status + "]\n";
                    return;
                }
            
                target.textContent = this.responseText;
            }
        }

        document.getElementById('btnCheck').onclick = () => {
            let name = document.getElementById('name');
            let target = 's08/checker2?user=' + name.value;
    
            let request = new XMLHttpRequest();
            request.onload = callback;
            request.open('GET', target);
            request.send();
        };
	</script>
</body>
</html>